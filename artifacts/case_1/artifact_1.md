---
title: "Артефакт 1 — Требования"
permalink: /artifacts/case_1/artifact_1/
---

<div class="d-flex gap-2 flex-wrap mb-3">
  <a class="btn btn-outline-secondary btn-sm" href="{{ '/artifacts/case_1/' | relative_url }}">← К артефактам</a>
  <a class="btn btn-outline-secondary btn-sm" href="{{ '/projects/case_1/' | relative_url }}">← К кейсу</a>
</div>

<div class="card shadow-sm">
  <div class="card-body" markdown="1">

# Артефакт 1 — Требования

<div class="alert alert-light border mb-4">
  Это выдержка/структура требований (текстовый артефакт). Можно дополнять картинками/скринами ниже.
</div>

## Требования ко всей системе (end-to-end)

### Функциональные

- Сбор и хранение данных операций БП
- Планшет на Android собирает данные операций (загрузка/выгрузка и т.п.) и хранит их локально до появления интернета; при появлении сети отправляет на сервер.
- После привязки БП к учетной записи на сайте ранее накопленные данные становятся доступны пользователю.
- Привязка БП (БВС) к учетной записи (валидация владения)
- Пользователь добавляет БП, вводит имя БВС (Bluetooth-имя с завода) и код, полученный от оператора по телефону; система сопоставляет данные и привязывает БП к хозяйству.
- В приложении весовой системы должна быть кнопка «Зарегистрировать», генерирующая код заданного формата; при наличии сети код отправляется на сервер, без сети — вводится вручную и «допривязывается» при появлении интернета.
- Должна храниться история регистраций БВС; при повторной регистрации выполняется проверка ранее выполненной.
- Роли и разграничение доступа
- Роли минимум: Администратор системы, Администратор хозяйства, Пользователи системы (в рамках предприятия).
- После аутентификации система проверяет полномочия на разделы и показывает сообщение при запрете доступа.
- Единое представление данных на сайте
- Сайт показывает местоположение БП и список операций по выбранным фильтрам/периоду, формирует отчетность, рейтинги и статистику.
- Поддержка электронных чеков (в т.ч. отказ от бумажных)
- Отдельное пользовательское мобильное приложение предназначено для дублирования/замены чеков транзакций.

### Нефункциональные

- Конфиденциальность: данные системы не общедоступны; доступ только зарегистрированным.
- Хранение данных и сроки: Данные на сервере хранятся 3–6 месяцев до привязки; если БП не привязан — данные удаляются; после привязки доступны владельцу.
- Обращения и файлы, отправленные через сайт, хранятся без ограничения срока (в разрезе хозяйства).
- Требования к БД: хранение данных сайта в реляционной СУБД в структурированном виде.
- Безопасность паролей: пароли в БД шифруются; пароль не менее 8 символов (буквы+цифры+спецсимволы).

## Весовая система (БП + БВС + планшетное приложение оператора)

### Функциональные (планшетное приложение «весовой системы»)

- **Подключение оборудования:**
  - Подключение принтера по Bluetooth и USB.
  - Поддержка COM-портов/оборудования партнёров с параметрами (пример): 19200, 8N1, XON/XOFF.
- **Операции/сессии и чеки:**
  - Хранить до 1000 операций загрузки/выгрузки (сессии печати чеков), разделять «распечатанные/не распечатанные».
  - Сохранение и печать чеков о транзакции.
- **Журналы и диагностика:**
  - Журнал действий в инженерном меню (кто/что/когда), журнал пользовательских обнулений (в т.ч. GPS при наличии), системный журнал ошибок (например, перегрузка датчика дышла).
- **Рабочая область и ошибки (блокирующие сценарии):**
  - Вес последней операции должен сохраняться в памяти.
  - При превышении угла наклона 10° блокируется печать чека и показывается сообщение.
  - При ошибке датчика (обрыв/КЗ) работа системы блокируется; также обрабатывается ошибка Bluetooth (не включен на планшете).
- **Инженерное меню (настройки БВС через UI):**
  - Инженерное меню всегда доступно для просмотра; вход в режим редактирования — «3 долгих нажатия» на кнопку выхода.
  - Параметры: заводской номер (5 цифр), предел наклона, модель БП (обновляемый модельный ряд с сайта), предел обнуления (%), предел нагрузки на датчик дышла.
  - Каналы/нули: очистка нулей, обнуление, учет пользовательских обнулений (вес/коэффициент/счетчик), поканальные брутто/тара/нетто.
  - Калибровка: по коэффициенту (1 точка/5 точек), по весу; рассчитанный коэффициент записывается в БВС.
  - Экспорт/импорт настроек (сохранить/загрузить), запись в файл и отправка «на флешку/на сайт».
- **RFID и режим «Свой-Чужой» (контроль и отслеживание несанкционированной выгрузки):**
  - Планшет хранит базу RFID-меток допущенной техники (комбайн/зерновоз); на БП — RFID-антенны по бортам; при совпадении метки система по Wi-Fi отправляет сигнал на разблокировку шнека, иначе оператору показывается необходимость ручного разрешения и выбора техники.

### Нефункциональные (весовая/БВС)

- **Требования к RFID-антенне:**
  - Дальность распознавания до 15 м,
  - Питание 12 В,
  - Защита от перегрузки/КЗ/повышенного напряжения,
  - Интерфейс RS-485/232 до планшета.
- **Протокол обмена и надежность доставки:**
  - Обмен пакетами JSON (ASCII), периодическая отправка после установления связи.
  - Для событийных пакетов требуется подтверждение приема; при отсутствии ack > 1000 мс — повтор, после 3 неудач — разрыв и повторное соединение.

<div class="d-flex gap-2 flex-wrap mt-4">
  <a class="btn btn-outline-secondary btn-sm" href="{{ '/artifacts/case_1/' | relative_url }}">← Назад к артефактам</a>
  <a class="btn btn-outline-secondary btn-sm" href="{{ '/projects/case_1/' | relative_url }}">← Назад к кейсу</a>
</div>

  </div>
</div>
